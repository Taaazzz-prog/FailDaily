/* ===== THÈME CLAIR FAILDAILY ===== */

:root {
  /* Couleurs principales FailDaily mode clair - VRAIE CHARTE ORIGINALE */
  --faildaily-primary: #6366f1;
  --faildaily-primary-shade: #5856d6;
  --faildaily-primary-tint: #7c7ce8;
  
  --faildaily-secondary: #10b981;
  --faildaily-secondary-shade: #059669;
  --faildaily-secondary-tint: #34d399;
  
  --faildaily-tertiary: #f59e0b;
  --faildaily-tertiary-shade: #d97706;
  --faildaily-tertiary-tint: #fbbf24;

  /* Couleurs de background mode clair - VRAIE CHARTE ORIGINALE FAILDAILY */
  --faildaily-background: #dbeafe;          /* Fond principal bleu pastel original */
  --faildaily-background-alt: #e0e7ff;      /* Fond alternatif lavande */
  --faildaily-surface: #ffffff;             /* Surface des cartes */
  --faildaily-surface-alt: #f8fafc;         /* Surface alternative très claire */

  /* Couleurs de texte mode clair - VRAIE CHARTE ORIGINALE */
  --faildaily-text-primary: #1e293b;        /* Texte principal moderne */
  --faildaily-text-secondary: #64748b;      /* Texte secondaire */
  --faildaily-text-light: #94a3b8;          /* Texte atténué */

  /* Couleurs d'état mode clair - VRAIE CHARTE ORIGINALE */
  --faildaily-success: #10b981;
  --faildaily-warning: #f59e0b;
  --faildaily-danger: #ef4444;
  --faildaily-info: #3b82f6;

  /* Couleurs des réactions FailDaily */
  --reaction-courage: #ef4444;
  --reaction-laugh: #f59e0b;
  --reaction-empathy: #3b82f6;
  --reaction-support: #10b981;

  /* Ombres mode clair */
  --faildaily-shadow: rgba(45, 52, 54, 0.1);
  --faildaily-shadow-strong: rgba(45, 52, 54, 0.25);

  /* Bordures mode clair */
  --faildaily-border: rgba(45, 52, 54, 0.1);
  --faildaily-border-strong: rgba(45, 52, 54, 0.2);

  /* Variables Ionic pour mode clair - VRAIE CHARTE ORIGINALE */
  --ion-color-primary: var(--faildaily-primary);
  --ion-color-primary-rgb: 99, 102, 241;
  --ion-color-primary-contrast: #ffffff;
  --ion-color-primary-contrast-rgb: 255, 255, 255;
  --ion-color-primary-shade: var(--faildaily-primary-shade);
  --ion-color-primary-tint: var(--faildaily-primary-tint);

  --ion-color-secondary: var(--faildaily-secondary);
  --ion-color-secondary-rgb: 16, 185, 129;
  --ion-color-secondary-contrast: #ffffff;
  --ion-color-secondary-contrast-rgb: 255, 255, 255;
  --ion-color-secondary-shade: var(--faildaily-secondary-shade);
  --ion-color-secondary-tint: var(--faildaily-secondary-tint);

  --ion-color-tertiary: var(--faildaily-tertiary);
  --ion-color-tertiary-rgb: 245, 158, 11;
  --ion-color-tertiary-contrast: #ffffff;
  --ion-color-tertiary-contrast-rgb: 255, 255, 255;
  --ion-color-tertiary-shade: var(--faildaily-tertiary-shade);
  --ion-color-tertiary-tint: var(--faildaily-tertiary-tint);

  /* Couleurs Ionic pour background mode clair - VRAIE CHARTE ORIGINALE */
  --ion-background-color: var(--faildaily-background);
  --ion-background-color-rgb: 219, 234, 254;

  --ion-text-color: var(--faildaily-text-primary);
  --ion-text-color-rgb: 30, 41, 59;

  /* Variables Ionic pour composants mode clair */
  --ion-toolbar-background: var(--faildaily-surface);
  --ion-toolbar-color: var(--faildaily-text-primary);
  
  --ion-tab-bar-background: var(--faildaily-surface);
  --ion-tab-bar-color: var(--faildaily-text-secondary);
  --ion-tab-bar-color-selected: var(--faildaily-primary);
  
  --ion-card-background: var(--faildaily-surface);
  --ion-card-color: var(--faildaily-text-primary);
  
  --ion-item-background: var(--faildaily-surface);
  --ion-item-color: var(--faildaily-text-primary);
  
  --ion-list-background: var(--faildaily-background-alt);
  --ion-list-color: var(--faildaily-text-primary);

  /* Variables step pour dégradés mode clair - CHARTE ORIGINALE */
  --ion-color-step-50: #fefcfb;
  --ion-color-step-100: #fdf9f6;
  --ion-color-step-150: #fbf5f0;
  --ion-color-step-200: #f9f1ea;
  --ion-color-step-250: #f7ede4;
  --ion-color-step-300: #f5e9de;
  --ion-color-step-350: #f3e5d8;
  --ion-color-step-400: #f1e1d2;
  --ion-color-step-450: #efdccc;
  --ion-color-step-500: #edd8c6;
  --ion-color-step-550: #ebd4c0;
  --ion-color-step-600: #e9d0ba;
  --ion-color-step-650: #737373;
  --ion-color-step-700: #666666;
  --ion-color-step-750: #5a5a5a;
  --ion-color-step-800: #4d4d4d;
  --ion-color-step-850: #404040;
  --ion-color-step-900: #333333;
  --ion-color-step-950: #262626;
}

/* Styles pour tous les composants en mode clair */
body:not(.dark) {
  /* Conteneurs principaux */
  ion-content {
    --background: var(--faildaily-background);
    --color: var(--faildaily-text-primary);
  }

  /* Headers et toolbars */
  ion-header ion-toolbar {
    --background: var(--faildaily-surface);
    --color: var(--faildaily-text-primary);
  }

  /* Navigation */
  ion-tabs ion-tab-bar {
    --background: var(--faildaily-surface);
    --color: var(--faildaily-text-secondary);
  }

  ion-tabs ion-tab-bar ion-tab-button {
    --color: var(--faildaily-text-secondary);
    --color-selected: var(--faildaily-primary);
  }

  /* Cards et items */
  ion-card {
    --background: var(--faildaily-surface);
    --color: var(--faildaily-text-primary);
  }

  ion-item {
    --background: var(--faildaily-surface);
    --color: var(--faildaily-text-primary);
    --border-color: var(--faildaily-border);
  }

  ion-list {
    --ion-background-color: var(--faildaily-background);
    --ion-text-color: var(--faildaily-text-primary);
  }

  /* Formulaires */
  ion-input, ion-textarea {
    --background: var(--faildaily-surface-alt);
    --color: var(--faildaily-text-primary);
    --placeholder-color: var(--faildaily-text-light);
  }

  ion-select {
    --background: var(--faildaily-surface-alt);
    --color: var(--faildaily-text-primary);
    --placeholder-color: var(--faildaily-text-light);
  }

  ion-label {
    --color: var(--faildaily-text-primary);
  }

  ion-label h1, ion-label h2, ion-label h3, 
  ion-label h4, ion-label h5, ion-label h6 {
    color: var(--faildaily-text-primary);
  }

  ion-label p {
    color: var(--faildaily-text-secondary);
  }

  /* Contrôles */
  ion-toggle {
    --background: var(--faildaily-surface-alt);
    --background-checked: var(--faildaily-primary);
    --handle-background: var(--faildaily-text-primary);
    --handle-background-checked: var(--faildaily-surface);
  }

  ion-checkbox {
    --background: var(--faildaily-surface-alt);
    --background-checked: var(--faildaily-primary);
    --checkmark-color: var(--faildaily-surface);
    --border-color: var(--faildaily-border);
    --border-color-checked: var(--faildaily-primary);
  }

  ion-radio {
    --color: var(--faildaily-border);
    --color-checked: var(--faildaily-primary);
  }

  /* Boutons */
  ion-button {
    --color: var(--faildaily-text-primary);
  }

  /* Overlays */
  ion-toast {
    --background: var(--faildaily-surface);
    --color: var(--faildaily-text-primary);
  }

  ion-alert {
    --background: var(--faildaily-surface);
    --color: var(--faildaily-text-primary);
  }

  ion-modal {
    --background: var(--faildaily-background);
    --color: var(--faildaily-text-primary);
  }

  ion-popover {
    --background: var(--faildaily-surface);
    --color: var(--faildaily-text-primary);
  }

  /* Textes */
  ion-text {
    color: var(--faildaily-text-primary);
  }

  ion-text[color="medium"] {
    --color: var(--faildaily-text-secondary);
  }

  ion-text[color="light"] {
    --color: var(--faildaily-text-light);
  }

  ion-list-header {
    color: var(--faildaily-text-primary);
  }

  ion-note {
    color: var(--faildaily-text-light);
  }

  /* Corrections spécifiques pour les problèmes de contraste */
  .reaction-button {
    color: var(--faildaily-text-secondary) !important;
  }

  .reaction-button.reacted {
    color: var(--faildaily-primary) !important;
  }

  .fail-title {
    color: var(--faildaily-text-primary) !important;
  }

  .fail-description {
    color: var(--faildaily-text-secondary) !important;
  }

  .fail-meta {
    color: var(--faildaily-text-light) !important;
  }

  .comments-section {
    background: var(--faildaily-surface-alt) !important;
  }

  .comment-item {
    background: var(--faildaily-surface) !important;
    color: var(--faildaily-text-primary) !important;
    border: 1px solid var(--faildaily-border) !important;
  }

  /* Assurer le contraste sur tous les éléments texte */
  h1, h2, h3, h4, h5, h6 {
    color: var(--faildaily-text-primary) !important;
  }

  p, span, div {
    color: inherit !important;
  }

  /* Buttons avec bon contraste */
  ion-button {
    --color: #ffffff !important;
    --background: var(--faildaily-primary) !important;
  }

  ion-button.button-clear {
    --color: var(--faildaily-primary) !important;
    --background: transparent !important;
  }

  ion-button.button-outline {
    --color: var(--faildaily-primary) !important;
    --border-color: var(--faildaily-primary) !important;
    --background: transparent !important;
  }

  /* Items et listes */
  ion-item {
    --background: var(--faildaily-surface) !important;
    --color: var(--faildaily-text-primary) !important;
    --border-color: var(--faildaily-border) !important;
  }

  ion-label {
    color: var(--faildaily-text-primary) !important;
  }

  /* Inputs avec placeholder visible */
  ion-input {
    --color: var(--faildaily-text-primary) !important;
    --placeholder-color: var(--faildaily-text-light) !important;
  }

  ion-textarea {
    --color: var(--faildaily-text-primary) !important;
    --placeholder-color: var(--faildaily-text-light) !important;
  }

  /* Corrections spécifiques pour pages badges et profile */
  .badges-container,
  .profile-container {
    .comfort-text,
    .handwriting,
    .encouragement-text {
      color: var(--faildaily-text-secondary) !important;
    }

    .badge-name,
    .badge-description,
    .level-number,
    .stat-value,
    .fail-title {
      color: var(--faildaily-text-primary) !important;
    }

    .badge-count,
    .progress-text,
    .category-name {
      color: var(--faildaily-text-secondary) !important;
    }

    .rarity-tag,
    .unlock-date,
    .fail-meta {
      color: var(--faildaily-text-light) !important;
    }

    /* Sections de page avec fond visible */
    .welcome-section,
    .level-section,
    .stats-section,
    .badges-section,
    .recent-fails-section,
    .actions-section,
    .next-objectives,
    .category-section {
      background: var(--faildaily-surface) !important;
      border: 1px solid var(--faildaily-border) !important;
      color: var(--faildaily-text-primary) !important;
    }

    /* Cartes de badges */
    .badge-card,
    .stat-card,
    .fail-preview {
      background: var(--faildaily-surface-alt) !important;
      color: var(--faildaily-text-primary) !important;
      border: 1px solid var(--faildaily-border) !important;
    }

    /* Titres h1, h2, h3 visibles */
    h1, h2, h3, h4, h5, h6 {
      color: var(--faildaily-text-primary) !important;
    }

    /* Progress bars avec bon contraste */
    ion-progress-bar {
      --background: var(--faildaily-surface-alt) !important;
      --progress-background: var(--faildaily-primary) !important;
    }

    /* Debug info visible */
    .debug-info {
      background: var(--faildaily-surface-alt) !important;
      color: var(--faildaily-text-primary) !important;
      border: 1px solid var(--faildaily-border) !important;
    }

    .debug-summary p,
    .debug-barème li {
      color: var(--faildaily-text-secondary) !important;
    }
  }

  /* Corrections pour les badges spécifiquement */
  .badge-icon-container,
  .icon-circle {
    background: var(--faildaily-surface) !important;
  }

  .badge-background {
    opacity: 0.1 !important;
  }

  /* Dropdown et sélecteurs */
  .category-dropdown,
  .dropdown-menu {
    background: var(--faildaily-surface) !important;
    border: 1px solid var(--faildaily-border) !important;
    color: var(--faildaily-text-primary) !important;
  }

  /* Textes spécifiques aux fails */
  .fail-description,
  .fail-category,
  .fail-date {
    color: var(--faildaily-text-secondary) !important;
  }
}

/* ===== STYLES DES RÉACTIONS FAILDAILY ===== */

/* Styles pour les boutons de réaction */
.reaction-button {
  transition: all var(--app-transition-fast) ease;
  
  &.active {
    transform: scale(1.1);
  }
  
  &.pulse {
    animation: reaction-pulse 0.6s ease-in-out;
  }
  
  &.courage.active {
    --ion-color-primary: var(--reaction-courage);
    color: var(--reaction-courage) !important;
  }
  
  &.laugh.active {
    --ion-color-primary: var(--reaction-laugh);
    color: var(--reaction-laugh) !important;
  }
  
  &.empathy.active {
    --ion-color-primary: var(--reaction-empathy);
    color: var(--reaction-empathy) !important;
  }
  
  &.support.active {
    --ion-color-primary: var(--reaction-support);
    color: var(--reaction-support) !important;
  }
}

/* Animation pulse pour les réactions */
@keyframes reaction-pulse {
  0% { transform: scale(1); }
  50% { transform: scale(1.2); }
  100% { transform: scale(1); }
}

/* Variables d'espacement et animation (de la charte originale) */
:root {
  --spacing-xs: 4px;
  --spacing-sm: 8px;
  --spacing-md: 16px;
  --spacing-lg: 24px;
  --spacing-xl: 32px;

  --border-radius-sm: 4px;
  --border-radius-md: 8px;
  --border-radius-lg: 12px;

  --animation-fast: 0.2s;
  --animation-normal: 0.3s;
  --animation-slow: 0.5s;
}